@{
    Layout = null;
}
@model List<Ghosts.Socializer.Infrastructure.Post>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facebook</title>
    <link rel="stylesheet" href="/themes/facebook/css/facebook.css">
    <link rel="icon" href="/themes/facebook/images/facebook-icon.png" type="image/png">
</head>
<body data-theme="facebook">
    <!-- Header -->
    <header class="header">
        <div class="header-left">
            <a href="/" class="logo">facebook</a>
            <input type="text" class="search-bar" placeholder="Search Facebook">
        </div>

        <div class="header-center">
            <a href="/" class="nav-item active">üè†</a>
            <a href="#" class="nav-item">üì∫</a>
            <a href="#" class="nav-item">üõçÔ∏è</a>
            <a href="#" class="nav-item">üë•</a>
            <a href="#" class="nav-item">üéÆ</a>
        </div>

        <div class="header-right">
            <button class="icon-btn">‚äï</button>
            <a href="/messages" class="icon-btn" style="text-decoration: none;">üí¨</a>
            <button class="icon-btn">üîî</button>
            <img src="/u/@ViewBag.Username/avatar" alt="Profile" class="profile-pic">
        </div>
    </header>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Left Sidebar -->
        <aside class="left-sidebar">
            <a href="/profile" class="sidebar-item">
                <img src="/u/@ViewBag.Username/avatar" alt="Profile" class="profile-pic">
                <span> &nbsp; @ViewBag.Username</span>
            </a>
            <a href="#" class="sidebar-item">
                <div class="sidebar-icon"></div>
                <span>Friends</span>
            </a>
            <a href="#" class="sidebar-item">
                <div class="sidebar-icon"></div>
                <span>Groups</span>
            </a>
            <a href="#" class="sidebar-item">
                <div class="sidebar-icon"></div>
                <span>Marketplace</span>
            </a>
            <a href="#" class="sidebar-item">
                <div class="sidebar-icon"></div>
                <span>Watch</span>
            </a>
            <a href="#" class="sidebar-item">
                <div class="sidebar-icon"></div>
                <span>Memories</span>
            </a>
            <a href="#" class="sidebar-item">
                <div class="sidebar-icon"></div>
                <span>Saved</span>
            </a>
            <a href="#" class="sidebar-item">
                <div class="sidebar-icon"></div>
                <span>Pages</span>
            </a>
            <a href="#" class="sidebar-item">
                <div class="sidebar-icon"></div>
                <span>Events</span>
            </a>
            <a href="#" class="sidebar-item">
                <div class="sidebar-icon"></div>
                <span>Ad Manager</span>
            </a>
        </aside>

        <!-- Feed -->
        <main class="feed-container">
            <!-- Create Post -->
            <div class="create-post">
                <form method="post" action="/">
                    <input type="hidden" name="theme" value="facebook">
                    <input type="hidden" name="user" value="@ViewBag.Username">
                    <div class="create-post-top">
                        <img src="/u/@ViewBag.Username/avatar" alt="Profile" class="profile-pic">
                        <input type="text" name="message" class="create-post-input" placeholder="What's on your mind, @ViewBag.Username?" required>
                        <button type="submit" class="post-btn">Post</button>
                    </div>
                </form>
                <div class="create-post-buttons">
                    <button class="create-post-btn">üìπ Live video</button>
                    <button class="create-post-btn">üì∑ Photo/video</button>
                    <button class="create-post-btn">üòä Feeling/activity</button>
                </div>
            </div>

            <!-- Stories -->
            <div class="post">
                <div style="padding: 16px;">
                    <h3 style="margin-bottom: 16px;">Stories</h3>
                    <div style="display: flex; gap: 8px; overflow-x: auto;">
                        <div style="min-width: 112px; height: 200px; background: linear-gradient(45deg, #f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%); border-radius: 8px; position: relative; cursor: pointer;">
                            <img src="/u/@ViewBag.Username/avatar" alt="Your story" style="width: 100%; height: 70%; object-fit: cover; border-radius: 8px 8px 0 0;">
                            <div style="position: absolute; bottom: 8px; left: 8px; color: white; font-size: 12px; font-weight: 600;">Your Story</div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="newsfeed-items-grid">
                <button class="btn btn-primary btn-md-2" type="submit" name="submit" id="sendButton">Post Status</button>
                @{
                    if (Model != null)
                    {
                        foreach (var post in Model)
                        {
                            <article class="post" data-post-id="@post.Id">
                                <div class="post-header">
                                    <div class="post-user-info">
                                        <img src="/u/@post.Username/avatar" class="profile-pic">
                                        <div>
                                            <div class="post-user-name"><a href="/u/@post.Username">@post.Username</a></div>
                                            <div class="post-time">@post.CreatedUtc.ToString("MMM d, yyyy") ¬∑ üåç</div>
                                        </div>
                                    </div>
                                    <button class="post-menu">‚ãØ</button>
                                </div>
                                <div class="post-content">
                                    <div class="post-text">@Html.Raw(post.Message)</div>
                                </div>
                                <div class="post-stats">
                                    @{
                                        var likesCount = post.Likes?.Count ?? 0;
                                    }
                                    @if (likesCount > 0)
                                    {
                                        <span>üëç‚ù§Ô∏èüòä @likesCount people</span>
                                    }
                                    <div>@post.Comments?.Count comments</div>
                                </div>
                                <div class="post-actions">
                                    <button class="post-action like-btn like-it" data-id="@post.Id">üëç Like</button>
                                    <a href="/posts/@post.Id" style="text-decoration: none"><button class="post-action comment-btn" data-action="comment">üí¨ Comment</button></a>
                                    <button class="post-action share-btn" data-action="share">üì§ Share</button>
                                </div>
                            </article>
                        }
                    }
                }
            </div>
            <a id="load-more-button" href="#" class="btn btn-control btn-more" data-load-link="items-to-load.html" data-container="newsfeed-items-grid">
                <span>‚ãØ</span>
            </a>
        </main>

        <!-- Right Sidebar -->
        <aside class="right-sidebar">
            <div style="margin-bottom: 24px;">
                <h3 style="color: #65676b; margin-bottom: 16px;">Sponsored</h3>
                <div style="display: flex; align-items: center; margin-bottom: 12px;">
                    <img src="/themes/facebook/images/ad-placeholder.jpg" alt="Ad" style="width: 100px; height: 100px; border-radius: 8px; margin-right: 12px;">
                    <div>
                        <div style="font-weight: 600; margin-bottom: 4px;">Learn Web Development</div>
                        <div style="color: #65676b; font-size: 13px;">codecademy.com</div>
                    </div>
                </div>
            </div>

            <div>
                <h3 style="color: #65676b; margin-bottom: 16px;">Contacts</h3>
                <div class="sidebar-item">
                    <img src="/themes/facebook/images/friend1.jpg" alt="Contact" class="profile-pic">
                    <span>Contact 1</span>
                </div>
                <div class="sidebar-item">
                    <img src="/themes/facebook/images/friend2.jpg" alt="Contact" class="profile-pic">
                    <span>Contact 2</span>
                </div>
                <div class="sidebar-item">
                    <img src="/themes/facebook/images/friend3.jpg" alt="Contact" class="profile-pic">
                    <span>Contact 3</span>
                </div>
            </div>
        </aside>
    </div>

    <script src="/themes/facebook/js/facebook.js"></script>
    <!-- JS Scripts -->
    <script src="/js/jQuery/jquery-3.5.1.min.js"></script>
    <script src="/js/libs/jquery.mousewheel.min.js"></script>
    <script src="/js/libs/perfect-scrollbar.min.js"></script>
    <script src="/js/libs/imagesloaded.pkgd.min.js"></script>
    <script src="/js/libs/material.min.js"></script>
    <script src="/js/libs/selectize.min.js"></script>
    <script src="/js/libs/isotope.pkgd.min.js"></script>
    <script src="/js/libs/ajax-pagination.min.js"></script>
    <script src="/js/libs/jquery.magnific-popup.min.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/libs-init/libs-init.js"></script>
    <script src="/Bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <!-- SVG icons loader -->
    <script src="/js/svg-loader.js"></script>
    <!-- /SVG icons loader -->
    <script src="~/js/signalr.min.js"></script>
    <script src="~/js/posts.js?@System.Guid.NewGuid()" asp-append-version="true"></script>
</body>
</html>
